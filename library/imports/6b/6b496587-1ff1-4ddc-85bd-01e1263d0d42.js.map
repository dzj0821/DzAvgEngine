{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\ContentManager.ts"],"names":[],"mappings":";;;;;AAAA,uDAAkD;AAClD,uEAAkE;AAClE,sDAAiD;AAE3C,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAA4C,kCAAgB;IAD5D;QAAA,qEA4CC;QAtCG,iBAAW,GAAiB,IAAI,CAAC;QAKjC,UAAI,GAAW,CAAC,CAAC;QAKjB,YAAM,GAAW,uBAAa,CAAC,IAAI,CAAC;;IA4BxC,CAAC;uBA3CoB,cAAc;IAiB/B,+BAAM,GAAN;QACI,gBAAc,CAAC,QAAQ,GAAG,IAAI,CAAC;IACnC,CAAC;IAED,8BAAK,GAAL;QACI,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,6BAAI,GAAJ;QACI,GAAE;YACE,IAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,IAAI,EAAC;gBACzC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACf,IAAI,CAAC,MAAM,GAAG,uBAAa,CAAC,IAAI,CAAC;gBACjC,SAAS;gBACT,OAAO;aACV;YACD,IAAG,IAAI,CAAC,MAAM,IAAI,uBAAa,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,IAAI,uBAAa,CAAC,IAAI,EAAC;gBACxE,MAAM;aACT;YACD,8BAAoB,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YAExE,IAAG,IAAI,CAAC,MAAM,IAAI,uBAAa,CAAC,IAAI,EAAC;gBACjC,MAAM;aACT;SACJ,QAAM,IAAI,EAAE;IACjB,CAAC;;IAxCM,uBAAQ,GAAoB,IAAI,CAAC;IAGxC;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;uDACU;IAKjC;QAHC,QAAQ,CAAC;YACN,OAAO,EAAE,KAAK;SACjB,CAAC;gDACe;IAKjB;QAHC,QAAQ,CAAC;YACN,OAAO,EAAE,KAAK;SACjB,CAAC;kDACkC;IAfnB,cAAc;QADlC,OAAO;OACa,cAAc,CA2ClC;IAAD,qBAAC;CA3CD,AA2CC,CA3C2C,0BAAgB,GA2C3D;kBA3CoB,cAAc","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["import ManagerInterface from \"./ManagerInterface\";\r\nimport CommandParserManager from \"./parsers/CommandParserManager\";\r\nimport ContentStatus from \"./enum/ContentStatus\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ContentManager extends ManagerInterface {\r\n\r\n    static instance : ContentManager = null;\r\n\r\n    @property(cc.JsonAsset)\r\n    jsonContent: cc.JsonAsset = null;\r\n\r\n    @property({\r\n        visible: false,\r\n    })\r\n    line: number = 0;\r\n\r\n    @property({\r\n        visible: false,\r\n    })\r\n    status: number = ContentStatus.Wait;\r\n\r\n    onLoad(){\r\n        ContentManager.instance = this;\r\n    }\r\n\r\n    start(){\r\n        this.next();\r\n    }\r\n\r\n    next () {\r\n        do{\r\n            if(this.jsonContent.json.length == this.line){\r\n                cc.log(\"脚本结束\");\r\n                this.status = ContentStatus.Stop;\r\n                //TODO 结束\r\n                return;\r\n            }\r\n            if(this.status == ContentStatus.Select || this.status == ContentStatus.Stop){\r\n                break;\r\n            }\r\n            CommandParserManager.instance.parse(this.jsonContent.json[this.line++]);\r\n            \r\n            if(this.status == ContentStatus.Wait){\r\n                break;\r\n            }\r\n        }while(true);\r\n    }\r\n}\r\n"]}